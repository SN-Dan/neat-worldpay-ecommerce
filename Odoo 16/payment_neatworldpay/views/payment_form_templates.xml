<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="checkout" inherit_id="payment.checkout">
        <xpath expr="." position="inside">
            <t t-call="payment_neatworldpay.sdk_assets"/>
        </xpath>
    </template>

    <template id="manage" inherit_id="payment.manage">
        <xpath expr="." position="inside">
            <t t-call="payment_neatworldpay.sdk_assets"/>
        </xpath>
    </template>
    <template id="sdk_assets">
        <script src="https://payments.worldpay.com/resources/hpp/integrations/embedded/js/hpp-embedded-integration-library.js"/>
        <div id="neatworldpay_popup" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 9999;">
            <div style="background: #fff; padding: 20px; width: 400px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3); border-radius: 10px; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);">
                <div name="o_neatworldpay_component_container"></div>
                <button id="confirm_payment" style="margin-right: 10px; padding: 5px 10px; background: #4caf50; color: white; border: none; border-radius: 5px; cursor: pointer;">Pay</button>
                <button id="close_popup" style="padding: 5px 10px; background: #f44336; color: white; border: none; border-radius: 5px; cursor: pointer;">Cancel</button>
            </div>
        </div>
    </template>
</odoo>
